<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>DIAGEO Quiz – Stand</title>
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" href="/src/style.css">
  </head>
  <body>
    <!-- Portada -->
    <section id="scrHome" class="screen show" aria-label="Portada">
      <div class="full-bg" style="background-image:url('/assets/1.png')"></div>
      <div class="veil"></div>
      <button id="btnStart" class="cta" aria-label="Comenzar a jugar">JUGAR</button>
      <div class="footer">
        <span>Holiday Meeting · DIAGEO</span>
        <span id="staffTap" class="gold" role="button" aria-label="Abrir panel administrador">Panel admin</span>
      </div>
    </section>

    <!-- Formulario -->
    <section id="scrForm" class="screen" aria-label="Formulario">
      <div class="full-bg" style="background:#000"></div>
      <div class="card" role="form" aria-describedby="formHelp">
        <h2 class="title gold" style="margin-top:0">DATOS DEL PARTICIPANTE</h2>
        <p id="formHelp" style="margin:0 0 12px 0;color:#ccc;font-size:clamp(12px,1.6vw,14px)">Tus datos se usan solo para el sorteo. +18.</p>
        <div class="row">
          <div><label for="fName">NOMBRE COMPLETO</label><input id="fName" required autocomplete="name" placeholder="Escribe tu nombre"></div>
        </div>
        <div class="row">
          <div><label for="fEmail">CORREO (opcional)</label><input id="fEmail" type="email" autocomplete="email" placeholder="nombre@correo.com"></div>
          <div><label for="fPhone">TELÉFONO (opcional)</label><input id="fPhone" type="tel" inputmode="tel" autocomplete="tel" placeholder="+56 9 1234 5678"></div>
        </div>
        <div class="row">
          <div><label for="fAge">EDAD</label><input id="fAge" type="number" min="18" step="1" value="18"></div>
        </div>
        <label style="display:flex;gap:10px;align-items:center;margin-top:10px">
          <input id="f18" type="checkbox"> <span>Declaro ser mayor de 18 años</span>
        </label>
        <div class="btns">
          <button id="btnFormNext" class="cta">Comenzar</button>
          <button id="btnFormBack" class="btn secondary">Volver</button>
        </div>
      </div>
    </section>

    <!-- Pregunta Tanqueray -->
    <section id="scrTQ" class="screen" aria-label="Pregunta Tanqueray">
      <div class="full-bg" style="background-image:url('/assets/3.png')"></div>
      <div class="veil"></div>
      <div class="qwrap">
        <div class="brand-head">
          <h3 class="brand-name">Tanqueray</h3>
          <div class="pill gold">Pregunta 1 de 2</div>
        </div>
        <h4 id="tqQ" class="question">¿Cómo se prepara un Gin Tanqueray & Tonic perfecto?</h4>
        <div id="tqOpts" class="options" role="listbox" aria-label="Opciones Tanqueray"></div>
        <div class="timer" aria-hidden="true"><div id="tqTimer"></div></div>
      </div>
    </section>

    <!-- Pregunta Johnnie Walker -->
    <section id="scrJW" class="screen" aria-label="Pregunta Johnnie Walker">
      <div class="full-bg" style="background-image:url('/assets/4.png')"></div>
      <div class="veil"></div>
      <div class="qwrap">
        <div class="brand-head">
          <h3 class="brand-name">Johnnie Walker</h3>
          <div class="pill gold">Pregunta 2 de 2</div>
        </div>
        <h4 id="jwQ" class="question">¿Cuál de estos NO es una variante de Johnnie Walker?</h4>
        <div id="jwOpts" class="options" role="listbox" aria-label="Opciones Johnnie Walker"></div>
        <div class="timer" aria-hidden="true"><div id="jwTimer"></div></div>
      </div>
    </section>

    <!-- Estás participando TQ -->
    <section id="scrTQOk" class="screen" aria-label="Participando Tanqueray">
      <div class="full-bg" style="background-image:url('/assets/7.png')"></div>
    </section>

    <!-- Estás participando JW -->
    <section id="scrJWOk" class="screen" aria-label="Participando Johnnie Walker">
      <div class="full-bg" style="background-image:url('/assets/6.png')"></div>
    </section>

    <!-- Final / Sigue participando -->
    <section id="scrEnd" class="screen" aria-label="Final">
      <div class="full-bg" style="background-image:url('/assets/9.png')"></div>
      <div class="badges">
        <span id="badgeTQ" class="badge hidden">Entraste a Tanqueray</span>
        <span id="badgeJW" class="badge hidden">Entraste a Johnnie Walker</span>
      </div>
    </section>

    <!-- Overlay feedback -->
    <div id="overlay" class="overlay" aria-live="polite" aria-atomic="true">
      <div id="ovCard" class="ov-card">
        <h3 id="ovTitle" class="ov-title">Mensaje</h3>
        <p id="ovSub" class="ov-sub"></p>
      </div>
    </div>

    <!-- Toast -->
    <div id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

    <!-- Panel admin -->
    <div id="staffPanel">
      <div class="card">
        <h3 style="margin:0 0 12px 0">Panel de Administradores</h3>
        <div class="row" style="gap:10px">
          <button id="btnExportParticipants" class="btn">Exportar participants.csv</button>
          <button id="btnExportRounds" class="btn">Exportar rounds.csv</button>
          <button id="btnExportEntries" class="btn">Exportar entries.csv</button>
          <button id="btnExportEvents" class="btn">Exportar events.jsonl</button>
        </div>
        <hr style="border-color:#333">
        <div class="row" style="gap:10px">
          <button id="btnPickDir" class="btn">Elegir carpeta para respaldo (NDJSON)</button>
          <button id="btnCloseStaff" class="btn secondary">Cerrar</button>
          <button id="btnHardReset" class="btn">Reset a Portada</button>
        </div>
        <small id="dirInfo" style="color:#bbb"></small>
      </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
